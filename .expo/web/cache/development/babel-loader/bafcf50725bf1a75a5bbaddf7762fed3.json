{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Categories from \"../components/Categories\";\nimport HeaderTabs from \"../components/HeaderTabs\";\nimport RestaurantItems, { localRestaurants } from \"../components/RestaurantItems\";\nimport SearchBar from \"../components/SearchBar\";\nimport BottomTabs from \"../components/BottomTabs\";\nimport { useState, useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar YELP_API_KEY = \"V7KfSK0PO4rz6OD6VXe6eJ9OQUucRiA_t_rOVSMgHIilrQVIk6aulGXhCpudwfcczPemxfEAc9QSPWdjBe4FrlwBqxZw2l6j22g6GK4hMIRwbUbf9wfC1hLDI-R8YnYx\";\nexport default function Home() {\n  var _useState = useState(localRestaurants),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantData = _useState2[0],\n      setRestaurantData = _useState2[1];\n\n  var _useState3 = useState(\"Indiana\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      city = _useState4[0],\n      setCity = _useState4[1];\n\n  var _useState5 = useState(\"Delivery\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeTab = _useState6[0],\n      setActiveTab = _useState6[1];\n\n  var getRestaurantFromYelp = function getRestaurantFromYelp() {\n    var yelpUrl = \"https://api.yelp.com/v3/businesses/search?term=restaurants&location=\" + city;\n    var apiOptions = {\n      headers: {\n        'Authorization': 'Bearer ' + YELP_API_KEY\n      }\n    };\n    return fetch(yelpUrl, apiOptions).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return setRestaurantData(json.businesses.filter(function (business) {\n        return business.transactions.includes(activeTab.toLowerCase());\n      }));\n    });\n  };\n\n  useEffect(function () {\n    getRestaurantFromYelp();\n  }, [city, activeTab]);\n  return _jsxs(SafeAreaView, {\n    style: {\n      backgroundColor: \"#eee\",\n      flex: 1\n    },\n    children: [_jsxs(View, {\n      style: {\n        backgroundColor: \"white\",\n        padding: 15\n      },\n      children: [_jsx(HeaderTabs, {\n        activeTab: activeTab,\n        setActiveTab: setActiveTab\n      }), _jsx(SearchBar, {\n        cityHandler: setCity\n      })]\n    }), _jsxs(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      children: [_jsx(Categories, {}), _jsx(RestaurantItems, {\n        restaurantData: restaurantData\n      })]\n    }), _jsx(Divider, {\n      width: 1\n    }), _jsx(BottomTabs, {})]\n  });\n}","map":{"version":3,"names":["React","Categories","HeaderTabs","RestaurantItems","localRestaurants","SearchBar","BottomTabs","useState","useEffect","YELP_API_KEY","Home","restaurantData","setRestaurantData","city","setCity","activeTab","setActiveTab","getRestaurantFromYelp","yelpUrl","apiOptions","headers","fetch","then","res","json","businesses","filter","business","transactions","includes","toLowerCase","backgroundColor","flex","padding"],"sources":["F:/Uber Eats/uber-eats-clone/screens/Home.js"],"sourcesContent":["import React from 'react';\r\nimport { View, Text, SafeAreaView, ScrollView } from 'react-native';\r\nimport Categories from '../components/Categories';\r\nimport HeaderTabs from '../components/HeaderTabs';\r\nimport RestaurantItems, { localRestaurants } from '../components/RestaurantItems';\r\nimport SearchBar from '../components/SearchBar';\r\nimport BottomTabs from '../components/BottomTabs';\r\nimport { useState, useEffect } from 'react';\r\n\r\n//new header for webview\r\n/*\r\nimport { Platform } from \"react-native\";\r\nimport { WebView } from \"react-native-webview\";\r\n*/\r\n\r\n// const RAPID_API_KEY = \"c509507e15msha30481c25b2f2c2p18ab0ejsnffe31e3ef2d9\" ;\r\n// const YELP_API_KEY  Old= \"reKpWJOtZHyU93Xn6MkdRvzxEF3PgoRpc_fdeRr7y253A1shQcIAJeNiEEceyXbcxr2Iqq16_RBZ_gQQYIiNRXgHPpVez0BpWIAvnKIMAB6kAZcl_A1_mwyqgj96YnYx\";\r\nconst YELP_API_KEY = \"V7KfSK0PO4rz6OD6VXe6eJ9OQUucRiA_t_rOVSMgHIilrQVIk6aulGXhCpudwfcczPemxfEAc9QSPWdjBe4FrlwBqxZw2l6j22g6GK4hMIRwbUbf9wfC1hLDI-R8YnYx\";\r\n\r\n\r\nexport default function Home() {\r\n\r\n  const  [ restaurantData , setRestaurantData ] = useState(localRestaurants);\r\n  const [city, setCity] = useState(\"Indiana\");\r\n  const [activeTab, setActiveTab] = useState(\"Delivery\");\r\n\r\n  const getRestaurantFromYelp = () => {\r\n  const yelpUrl = `https://api.yelp.com/v3/businesses/search?term=restaurants&location=${city}`;\r\n  \r\n  const apiOptions = {\r\n    headers : {\r\n      // Authorization : `Bearer ${YELP_API_KEY}`,\r\n      'Authorization': 'Bearer ' + YELP_API_KEY,\r\n    },\r\n  };    \r\n  return fetch(yelpUrl, apiOptions)\r\n  .then((res) => res.json())\r\n  .then((json) => setRestaurantData(\r\n    json.businesses.filter((business) => \r\n    business.transactions.includes(activeTab.toLowerCase ())\r\n    )\r\n  )\r\n  );\r\n};  \r\n  useEffect(() => {\r\n    getRestaurantFromYelp();\r\n  }, [city, activeTab]);\r\n\r\nreturn (\r\n    <SafeAreaView style= {{ backgroundColor : \"#eee\" , flex : 1}}>\r\n      <View style = {{ backgroundColor : \"white\" , padding : 15}}>\r\n      <HeaderTabs activeTab={activeTab} setActiveTab={setActiveTab}/>\r\n      <SearchBar cityHandler={setCity}  />\r\n      </View>\r\n      <ScrollView showsVerticalScrollIndicator={false}>\r\n      <Categories/>\r\n      <RestaurantItems restaurantData = {restaurantData} />\r\n      </ScrollView>\r\n      <Divider width={1}/>\r\n      <BottomTabs/>\r\n    </SafeAreaView>\r\n  );\r\n}"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;AAEA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,OAAOC,eAAP,IAA0BC,gBAA1B;AACA,OAAOC,SAAP;AACA,OAAOC,UAAP;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;AAUA,IAAMC,YAAY,GAAG,kIAArB;AAGA,eAAe,SAASC,IAAT,GAAgB;EAE7B,gBAAgDH,QAAQ,CAACH,gBAAD,CAAxD;EAAA;EAAA,IAASO,cAAT;EAAA,IAA0BC,iBAA1B;;EACA,iBAAwBL,QAAQ,CAAC,SAAD,CAAhC;EAAA;EAAA,IAAOM,IAAP;EAAA,IAAaC,OAAb;;EACA,iBAAkCP,QAAQ,CAAC,UAAD,CAA1C;EAAA;EAAA,IAAOQ,SAAP;EAAA,IAAkBC,YAAlB;;EAEA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;IACpC,IAAMC,OAAO,4EAA0EL,IAAvF;IAEA,IAAMM,UAAU,GAAG;MACjBC,OAAO,EAAG;QAER,iBAAiB,YAAYX;MAFrB;IADO,CAAnB;IAMA,OAAOY,KAAK,CAACH,OAAD,EAAUC,UAAV,CAAL,CACNG,IADM,CACD,UAACC,GAAD;MAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;IAAA,CADC,EAENF,IAFM,CAED,UAACE,IAAD;MAAA,OAAUZ,iBAAiB,CAC/BY,IAAI,CAACC,UAAL,CAAgBC,MAAhB,CAAuB,UAACC,QAAD;QAAA,OACvBA,QAAQ,CAACC,YAAT,CAAsBC,QAAtB,CAA+Bd,SAAS,CAACe,WAAV,EAA/B,CADuB;MAAA,CAAvB,CAD+B,CAA3B;IAAA,CAFC,CAAP;EAQD,CAjBC;;EAkBAtB,SAAS,CAAC,YAAM;IACdS,qBAAqB;EACtB,CAFQ,EAEN,CAACJ,IAAD,EAAOE,SAAP,CAFM,CAAT;EAIF,OACI,MAAC,YAAD;IAAc,KAAK,EAAG;MAAEgB,eAAe,EAAG,MAApB;MAA6BC,IAAI,EAAG;IAApC,CAAtB;IAAA,WACE,MAAC,IAAD;MAAM,KAAK,EAAI;QAAED,eAAe,EAAG,OAApB;QAA8BE,OAAO,EAAG;MAAxC,CAAf;MAAA,WACA,KAAC,UAAD;QAAY,SAAS,EAAElB,SAAvB;QAAkC,YAAY,EAAEC;MAAhD,EADA,EAEA,KAAC,SAAD;QAAW,WAAW,EAAEF;MAAxB,EAFA;IAAA,EADF,EAKE,MAAC,UAAD;MAAY,4BAA4B,EAAE,KAA1C;MAAA,WACA,KAAC,UAAD,KADA,EAEA,KAAC,eAAD;QAAiB,cAAc,EAAIH;MAAnC,EAFA;IAAA,EALF,EASE,KAAC,OAAD;MAAS,KAAK,EAAE;IAAhB,EATF,EAUE,KAAC,UAAD,KAVF;EAAA,EADJ;AAcC"},"metadata":{},"sourceType":"module"}